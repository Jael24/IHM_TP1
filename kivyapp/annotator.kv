#:kivy 1.11.1

<MainGUI>:
    StackLayout:
        # Top bar with file manipulation options
        ActionBar:
            pos_hint: {'top': 1}
            ActionView:
                use_separator: True
                ActionPrevious:
                    title: ''
                    size_hint: None, None
                    size: 0, 0
                ActionButton:
                    text: 'Load image'
                    id: load_image
                ActionButton:
                    text: 'Save annotations'
                    id: save_annotations
                ActionButton:
                    text: 'Save annotated image'
                    id: save_image

        # Main area in the window
        GridLayout:
            cols: 2
            orientation: 'horizontal'
            padding:5

            # Image area
            Image:
                id: image
                source: 'sample.jpeg'
                #size_hint_x: 0.4
                allow_stretch: False

            # Layout at the right of the image
            BoxLayout:
                orientation: 'vertical'
                size_hint: 0.5, 1
                padding: 10

                # Label text input
                TextInput:
                    id: label_input
                    #size_hint_x: None
                    #width: 100
                    size_hint_y: None
                    height: 30
                    multiline: False

                Button:
                    id: add_label
                    text: "Add label"
                    size: 110, 35
                    size_hint: None, None

                Button:
                    id: remove_label
                    text: "Remove label"
                    size: 110, 35
                    size_hint: None, None

                RecycleView:
                    RecycleGridLayout:
                        cols: 3
                        key_selection: 'selectable'
                        default_size: None, dp(26)
                        default_size_hint: 1, None
                        size_hint_y: None
                        height: self.minimum_height
                        multiselect: False

# Load or save file
<FileDialog>:
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: 'vertical'
        FileChooserListView:
            id: file_chooser
            rootpath: '/home'

        TextInput:
            id: text_input
            size_hint_y: None
            height: 30
            multiline: False

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                id: btn_cancel
                text: 'Cancel'

            Button:
                id: btn_load
